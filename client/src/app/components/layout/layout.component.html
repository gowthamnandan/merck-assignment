 <!-- Sidebar -->
    <c-sidebar #sidebar1="cSidebar" class="d-print-none sidebar sidebar-fixed border-end"
               colorScheme="dark" id="sidebar1" visible>
      <c-sidebar-header class="border-bottom">
        <div class="sidebar-brand d-flex align-items-center px-3 py-2" style="text-decoration: none;">
          <div class="d-flex align-items-center justify-content-center rounded-2 me-2"
               style="width: 32px; height: 32px; background: rgba(255,255,255,.2);">
            <svg width="18" height="18" fill="none" stroke="white" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
            </svg>
          </div>
          <span class="fw-bold text-white">Drug Portfolio</span>
        </div>
      </c-sidebar-header>

      <c-sidebar-nav [navItems]="navItems" dropdownMode="close" />

      <c-sidebar-footer cSidebarToggle="sidebar1" class="border-top d-none d-lg-flex" toggle="unfoldable">
      </c-sidebar-footer>
    </c-sidebar>

    <!-- Main wrapper -->
    <div class="wrapper d-flex flex-column min-vh-100">
      <!-- Header -->
      <c-header class="mb-4 d-print-none header header-sticky p-0 shadow-sm" position="sticky">
        <c-container fluid class="border-bottom px-4">
          <button cHeaderToggler [cSidebarToggle]="'sidebar1'" class="d-lg-none">
            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
          </button>

          <c-header-nav class="ms-auto me-3">
            <div class="d-flex align-items-center gap-3">
              <div class="text-end d-none d-sm-block">
                <div class="fw-semibold small">{{ auth.currentUser()?.full_name }}</div>
                <div class="text-body-secondary small text-capitalize">{{ formatRole(auth.currentUser()?.role) }}</div>
              </div>

              <c-dropdown alignment="end" variant="nav-item">
                <button cDropdownToggle [caret]="false" class="p-0 border-0 bg-transparent">
                  <c-avatar color="primary" textColor="white" size="md" [shape]="'rounded-circle'">
                    {{ getInitials() }}
                  </c-avatar>
                </button>
                <ul cDropdownMenu class="pt-0">
                  <li><h6 cDropdownHeader class="bg-body-secondary text-body-secondary fw-semibold py-2">Account</h6></li>
                  <li>
                    <a cDropdownItem class="d-flex align-items-center">
                      <svg class="me-2" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                      </svg>
                      {{ auth.currentUser()?.full_name }}
                    </a>
                  </li>
                  <li><hr cDropdownDivider /></li>
                  <li>
                    <a cDropdownItem (click)="auth.logout()" style="cursor: pointer;" class="d-flex align-items-center text-danger">
                      <svg class="me-2" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                      </svg>
                      Logout
                    </a>
                  </li>
                </ul>
              </c-dropdown>
            </div>
          </c-header-nav>
        </c-container>
      </c-header>

      <!-- Body -->
      <div class="body flex-grow-1">
        <c-container breakpoint="lg" class="h-auto px-4">
          <router-outlet />
        </c-container>
      </div>

      <!-- Footer -->
      <footer class="footer border-top px-4 py-2">
        <div class="d-flex justify-content-between align-items-center">
          <span class="text-body-secondary small">Drug Portfolio Dashboard &copy; 2026</span>
          <span class="text-body-secondary small">Powered by CoreUI for Angular</span>
        </div>
      </footer>
    </div>